
<!DOCTYPE html>

<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <title>명령어 &#8212; discord.py 1.4.1 문서</title>
    <link rel="stylesheet" href="../../_static/style.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/custom.js"></script>
    <script src="../../_static/translations.js"></script>
    <link rel="index" title="색인" href="../../genindex.html" />
    <link rel="search" title="검색" href="../../search.html" />
    <link rel="next" title="Cogs" href="cogs.html" />
    <link rel="prev" title="discord.ext.commands – Bot commands 프레임워크" href="index.html" />
   
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head><body>
  
  

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>탐색</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="전체 색인"
             accesskey="I">색인</a></li>
        <li class="right" >
          <a href="cogs.html" title="Cogs"
             accesskey="N">다음</a> |</li>
        <li class="right" >
          <a href="index.html" title="discord.ext.commands – Bot commands 프레임워크"
             accesskey="P">이전</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">discord.py 1.4.1 문서</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U"><code class="docutils literal notranslate"><span class="pre">discord.ext.commands</span></code> – Bot commands 프레임워크</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="commands">
<span id="ext-commands-commands"></span><h1>명령어<a class="headerlink" href="#commands" title="제목 주소">¶</a></h1>
<p>명령어 확장자에서 가장 매력적인 것은 명령어를 정의하는 것이 매우 쉽고 당신 마음대로 그룹과 명령어를 묶어서 풍부한 서브커맨드 시스템을 가질 수 있다는 것입니다.</p>
<p>명령어는 기본적인 Python 함수에 붙여서 정의됩니다. 그다음에 유저가 Python 함수처럼 비슷한 서명을 사용해서 실행됩니다.</p>
<p>예를 들면, 주어진 명령어 정의에서:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">arg</span><span class="p">):</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
</pre></div>
</div>
<p>프리픽스로 (<code class="docutils literal notranslate"><span class="pre">$</span></code>) 를 갖고 있을 때, 이 명령어는 이렇게 유저에 의해 실행됩니다:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$foo abc
</pre></div>
</div>
<p>명령어는 항상 매개변수로 처음에 <a class="reference internal" href="api.html#discord.ext.commands.Context" title="discord.ext.commands.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>인 <code class="docutils literal notranslate"><span class="pre">ctx</span></code> 를 갖고 있어야 합니다.</p>
<p>명령어를 등록하는 방법은 두가지가 있습니다. 첫번째는 위의 예시처럼 <a class="reference internal" href="api.html#discord.ext.commands.Bot.command" title="discord.ext.commands.Bot.command"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Bot.command()</span></code></a> 데코레이터를 사용하는 것입니다. 두번째는 인스턴스에서 <a class="reference internal" href="api.html#discord.ext.commands.Bot.add_command" title="discord.ext.commands.Bot.add_command"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Bot.add_command()</span></code></a> 다음에 오는 <a class="reference internal" href="api.html#discord.ext.commands.command" title="discord.ext.commands.command"><code class="xref py py-func docutils literal notranslate"><span class="pre">command()</span></code></a> 데코레이터를 사용하는 것입니다.</p>
<p>기본적으로는, 이 둘은 같습니다:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">discord.ext</span> <span class="kn">import</span> <span class="n">commands</span>

<span class="n">bot</span> <span class="o">=</span> <span class="n">commands</span><span class="o">.</span><span class="n">Bot</span><span class="p">(</span><span class="n">command_prefix</span><span class="o">=</span><span class="s1">&#39;$&#39;</span><span class="p">)</span>

<span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="c1"># or:</span>

<span class="nd">@commands</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="n">bot</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference internal" href="api.html#discord.ext.commands.Bot.command" title="discord.ext.commands.Bot.command"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Bot.command()</span></code></a> 데코레이터가 더 짧고 이해하기 더 쉽기 때문에 이 문서에서 사용될 것입니다.</p>
<p><a class="reference internal" href="api.html#discord.ext.commands.Command" title="discord.ext.commands.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">Command</span></code></a> 생성자에 의해 받아들여진 매개변수는 데코레이터로 들어갈 수 있습니다. 예를 들어서, 함수 이외의 이름으로 변경하는 것은 이렇게 하는 것처럼 간단합니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;list&#39;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">_list</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">arg</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
</div>
<div class="section" id="parameters">
<h2>매개변수<a class="headerlink" href="#parameters" title="제목 주소">¶</a></h2>
<p>우리는 명령어를 Python 함수를 만드는 것으로 정의하고 있기 때문에, 우리는 지나가는 전달인자도 함수 매개변수로 정의합니다.</p>
<p>특정 매개변수 종류는 유저쪽에서 다른 것을 하고 대부분의 매개변수 형태는 지원됩니다.</p>
<div class="section" id="positional">
<h3>위치<a class="headerlink" href="#positional" title="제목 주소">¶</a></h3>
<p>The most basic form of parameter passing is the positional parameter. This is where we pass a parameter as-is:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">arg</span><span class="p">):</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
</pre></div>
</div>
<p>On the bot using side, you can provide positional arguments by just passing a regular string:</p>
<img alt="../../_images/positional1.png" src="../../_images/positional1.png" />
<p>To make use of a word with spaces in between, you should quote it:</p>
<img alt="../../_images/positional2.png" src="../../_images/positional2.png" />
<p>As a note of warning, if you omit the quotes, you will only get the first word:</p>
<img alt="../../_images/positional3.png" src="../../_images/positional3.png" />
<p>Since positional arguments are just regular Python arguments, you can have as many as you want:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="p">):</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s1">&#39;You passed </span><span class="si">{}</span><span class="s1"> and </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="variable">
<h3>변수<a class="headerlink" href="#variable" title="제목 주소">¶</a></h3>
<p>Sometimes you want users to pass in an undetermined number of parameters. The library supports this
similar to how variable list parameters are done in Python:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> arguments: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">args</span><span class="p">)))</span>
</pre></div>
</div>
<p>This allows our user to accept either one or many arguments as they please. This works similar to positional arguments,
so multi-word parameters should be quoted.</p>
<p>For example, on the bot side:</p>
<img alt="../../_images/variable1.png" src="../../_images/variable1.png" />
<p>If the user wants to input a multi-word argument, they have to quote it like earlier:</p>
<img alt="../../_images/variable2.png" src="../../_images/variable2.png" />
<p>Do note that similar to the Python function behaviour, a user can technically pass no arguments
at all:</p>
<img alt="../../_images/variable3.png" src="../../_images/variable3.png" />
<p>Since the <code class="docutils literal notranslate"><span class="pre">args</span></code> variable is a <a class="reference external" href="https://docs.python.org/ko/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="docutils literal notranslate"><span class="pre">tuple</span></code></a>,
you can do anything you would usually do with one.</p>
</div>
<div class="section" id="keyword-only-arguments">
<h3>키워드 전용 전달인자<a class="headerlink" href="#keyword-only-arguments" title="제목 주소">¶</a></h3>
<p>When you want to handle parsing of the argument yourself or do not feel like you want to wrap multi-word user input into
quotes, you can ask the library to give you the rest as a single argument. We do this by using a <strong>keyword-only argument</strong>,
seen below:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">arg</span><span class="p">):</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">경고</p>
<p>You can only have one keyword-only argument due to parsing ambiguities.</p>
</div>
<p>On the bot side, we do not need to quote input with spaces:</p>
<img alt="../../_images/keyword1.png" src="../../_images/keyword1.png" />
<p>Do keep in mind that wrapping it in quotes leaves it as-is:</p>
<img alt="../../_images/keyword2.png" src="../../_images/keyword2.png" />
<p>By default, the keyword-only arguments are stripped of white space to make it easier to work with. This behaviour can be
toggled by the <a class="reference internal" href="api.html#discord.ext.commands.Command.rest_is_raw" title="discord.ext.commands.Command.rest_is_raw"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Command.rest_is_raw</span></code></a> argument in the decorator.</p>
</div>
</div>
<div class="section" id="invocation-context">
<span id="ext-commands-context"></span><h2>Invocation Context<a class="headerlink" href="#invocation-context" title="제목 주소">¶</a></h2>
<p>As seen earlier, every command must take at least a single parameter, called the <a class="reference internal" href="api.html#discord.ext.commands.Context" title="discord.ext.commands.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>.</p>
<p>This parameter gives you access to something called the 《invocation context》. Essentially all the information you need to
know how the command was executed. It contains a lot of useful information:</p>
<ul class="simple">
<li><p><a class="reference internal" href="api.html#discord.ext.commands.Context.guild" title="discord.ext.commands.Context.guild"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Context.guild</span></code></a> to fetch the <a class="reference internal" href="../../api.html#discord.Guild" title="discord.Guild"><code class="xref py py-class docutils literal notranslate"><span class="pre">Guild</span></code></a> of the command, if any.</p></li>
<li><p><a class="reference internal" href="api.html#discord.ext.commands.Context.message" title="discord.ext.commands.Context.message"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Context.message</span></code></a> to fetch the <a class="reference internal" href="../../api.html#discord.Message" title="discord.Message"><code class="xref py py-class docutils literal notranslate"><span class="pre">Message</span></code></a> of the command.</p></li>
<li><p><a class="reference internal" href="api.html#discord.ext.commands.Context.author" title="discord.ext.commands.Context.author"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Context.author</span></code></a> to fetch the <a class="reference internal" href="../../api.html#discord.Member" title="discord.Member"><code class="xref py py-class docutils literal notranslate"><span class="pre">Member</span></code></a> or <a class="reference internal" href="../../api.html#discord.User" title="discord.User"><code class="xref py py-class docutils literal notranslate"><span class="pre">User</span></code></a> that called the command.</p></li>
<li><p><a class="reference internal" href="api.html#discord.ext.commands.Context.send" title="discord.ext.commands.Context.send"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Context.send()</span></code></a> to send a message to the channel the command was used in.</p></li>
</ul>
<p>The context implements the <a class="reference internal" href="../../api.html#discord.abc.Messageable" title="discord.abc.Messageable"><code class="xref py py-class docutils literal notranslate"><span class="pre">abc.Messageable</span></code></a> interface, so anything you can do on a <a class="reference internal" href="../../api.html#discord.abc.Messageable" title="discord.abc.Messageable"><code class="xref py py-class docutils literal notranslate"><span class="pre">abc.Messageable</span></code></a> you
can do on the <a class="reference internal" href="api.html#discord.ext.commands.Context" title="discord.ext.commands.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>.</p>
</div>
<div class="section" id="converters">
<h2>Converters<a class="headerlink" href="#converters" title="제목 주소">¶</a></h2>
<p>Adding bot arguments with function parameters is only the first step in defining your bot’s command interface. To actually
make use of the arguments, we usually want to convert the data into a target type. We call these
<a class="reference internal" href="api.html#ext-commands-api-converters"><span class="std std-ref">Converters</span></a>.</p>
<p>Converters come in a few flavours:</p>
<ul>
<li><p>A regular callable object that takes an argument as a sole parameter and returns a different type.</p>
<blockquote>
<div><ul class="simple">
<li><p>These range from your own function, to something like <a class="reference external" href="https://docs.python.org/ko/3/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a> or <a class="reference external" href="https://docs.python.org/ko/3/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>A custom class that inherits from <a class="reference internal" href="api.html#discord.ext.commands.Converter" title="discord.ext.commands.Converter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Converter</span></code></a>.</p></li>
</ul>
<div class="section" id="basic-converters">
<h3>Basic Converters<a class="headerlink" href="#basic-converters" title="제목 주소">¶</a></h3>
<p>At its core, a basic converter is a callable that takes in an argument and turns it into something else.</p>
<p>For example, if we wanted to add two numbers together, we could request that they are turned into integers
for us by specifying the converter:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">a</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
<p>We specify converters by using something called a <strong>function annotation</strong>. This is a Python 3 exclusive feature that was
introduced in <span class="target" id="index-0"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3107"><strong>PEP 3107</strong></a>.</p>
<p>This works with any callable, such as a function that would convert a string to all upper-case:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">to_upper</span><span class="p">(</span><span class="n">argument</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">argument</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>

<span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">up</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="n">to_upper</span><span class="p">):</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="bool">
<h4>bool<a class="headerlink" href="#bool" title="제목 주소">¶</a></h4>
<p>Unlike the other basic converters, the <a class="reference external" href="https://docs.python.org/ko/3/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a> converter is treated slightly different. Instead of casting directly to the <a class="reference external" href="https://docs.python.org/ko/3/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a> type, which would result in any non-empty argument returning <code class="docutils literal notranslate"><span class="pre">True</span></code>, it instead evaluates the argument as <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code> based on its given content:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">lowered</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;yes&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;true&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;enable&#39;</span><span class="p">,</span> <span class="s1">&#39;on&#39;</span><span class="p">):</span>
    <span class="k">return</span> <span class="kc">True</span>
<span class="k">elif</span> <span class="n">lowered</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;no&#39;</span><span class="p">,</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s1">&#39;false&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;disable&#39;</span><span class="p">,</span> <span class="s1">&#39;off&#39;</span><span class="p">):</span>
    <span class="k">return</span> <span class="kc">False</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="advanced-converters">
<span id="ext-commands-adv-converters"></span><h3>Advanced Converters<a class="headerlink" href="#advanced-converters" title="제목 주소">¶</a></h3>
<p>Sometimes a basic converter doesn’t have enough information that we need. For example, sometimes we want to get some
information from the <a class="reference internal" href="../../api.html#discord.Message" title="discord.Message"><code class="xref py py-class docutils literal notranslate"><span class="pre">Message</span></code></a> that called the command or we want to do some asynchronous processing.</p>
<p>For this, the library provides the <a class="reference internal" href="api.html#discord.ext.commands.Converter" title="discord.ext.commands.Converter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Converter</span></code></a> interface. This allows you to have access to the
<a class="reference internal" href="api.html#discord.ext.commands.Context" title="discord.ext.commands.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a> and have the callable be asynchronous. Defining a custom converter using this interface requires
overriding a single method, <a class="reference internal" href="api.html#discord.ext.commands.Converter.convert" title="discord.ext.commands.Converter.convert"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Converter.convert()</span></code></a>.</p>
<p>An example converter:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="k">class</span> <span class="nc">Slapper</span><span class="p">(</span><span class="n">commands</span><span class="o">.</span><span class="n">Converter</span><span class="p">):</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">convert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">,</span> <span class="n">argument</span><span class="p">):</span>
        <span class="n">to_slap</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">guild</span><span class="o">.</span><span class="n">members</span><span class="p">)</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{0.author}</span><span class="s1"> slapped </span><span class="si">{1}</span><span class="s1"> because *</span><span class="si">{2}</span><span class="s1">*&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">to_slap</span><span class="p">,</span> <span class="n">argument</span><span class="p">)</span>

<span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">slap</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">reason</span><span class="p">:</span> <span class="n">Slapper</span><span class="p">):</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">reason</span><span class="p">)</span>
</pre></div>
</div>
<p>The converter provided can either be constructed or not. Essentially these two are equivalent:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">slap</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">reason</span><span class="p">:</span> <span class="n">Slapper</span><span class="p">):</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">reason</span><span class="p">)</span>

<span class="c1"># is the same as...</span>

<span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">slap</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">reason</span><span class="p">:</span> <span class="n">Slapper</span><span class="p">()):</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">reason</span><span class="p">)</span>
</pre></div>
</div>
<p>Having the possibility of the converter be constructed allows you to set up some state in the converter’s <code class="docutils literal notranslate"><span class="pre">__init__</span></code> for
fine tuning the converter. An example of this is actually in the library, <a class="reference internal" href="api.html#discord.ext.commands.clean_content" title="discord.ext.commands.clean_content"><code class="xref py py-class docutils literal notranslate"><span class="pre">clean_content</span></code></a>.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">clean</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="n">commands</span><span class="o">.</span><span class="n">clean_content</span><span class="p">):</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>

<span class="c1"># or for fine-tuning</span>

<span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">clean</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="n">commands</span><span class="o">.</span><span class="n">clean_content</span><span class="p">(</span><span class="n">use_nicknames</span><span class="o">=</span><span class="kc">False</span><span class="p">)):</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</pre></div>
</div>
<p>If a converter fails to convert an argument to its designated target type, the <a class="reference internal" href="api.html#discord.ext.commands.BadArgument" title="discord.ext.commands.BadArgument"><code class="xref py py-exc docutils literal notranslate"><span class="pre">BadArgument</span></code></a> exception must be
raised.</p>
</div>
<div class="section" id="inline-advanced-converters">
<h3>Inline Advanced Converters<a class="headerlink" href="#inline-advanced-converters" title="제목 주소">¶</a></h3>
<p>If we don’t want to inherit from <a class="reference internal" href="api.html#discord.ext.commands.Converter" title="discord.ext.commands.Converter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Converter</span></code></a>, we can still provide a converter that has the
advanced functionalities of an advanced converter and save us from specifying two types.</p>
<p>For example, a common idiom would be to have a class and a converter for that class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">JoinDistance</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">joined</span><span class="p">,</span> <span class="n">created</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">joined</span> <span class="o">=</span> <span class="n">joined</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">created</span> <span class="o">=</span> <span class="n">created</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">delta</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">joined</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">created</span>

<span class="k">class</span> <span class="nc">JoinDistanceConverter</span><span class="p">(</span><span class="n">commands</span><span class="o">.</span><span class="n">MemberConverter</span><span class="p">):</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">convert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">,</span> <span class="n">argument</span><span class="p">):</span>
        <span class="n">member</span> <span class="o">=</span> <span class="k">await</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">argument</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">JoinDistance</span><span class="p">(</span><span class="n">member</span><span class="o">.</span><span class="n">joined_at</span><span class="p">,</span> <span class="n">member</span><span class="o">.</span><span class="n">created_at</span><span class="p">)</span>

<span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">delta</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">member</span><span class="p">:</span> <span class="n">JoinDistanceConverter</span><span class="p">):</span>
    <span class="n">is_new</span> <span class="o">=</span> <span class="n">member</span><span class="o">.</span><span class="n">delta</span><span class="o">.</span><span class="n">days</span> <span class="o">&lt;</span> <span class="mi">100</span>
    <span class="k">if</span> <span class="n">is_new</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s2">&quot;Hey you&#39;re pretty new!&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s2">&quot;Hm you&#39;re not so new.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This can get tedious, so an inline advanced converter is possible through a <code class="docutils literal notranslate"><span class="pre">classmethod</span></code> inside the type:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">JoinDistance</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">joined</span><span class="p">,</span> <span class="n">created</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">joined</span> <span class="o">=</span> <span class="n">joined</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">created</span> <span class="o">=</span> <span class="n">created</span>

    <span class="nd">@classmethod</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">convert</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ctx</span><span class="p">,</span> <span class="n">argument</span><span class="p">):</span>
        <span class="n">member</span> <span class="o">=</span> <span class="k">await</span> <span class="n">commands</span><span class="o">.</span><span class="n">MemberConverter</span><span class="p">()</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">argument</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">member</span><span class="o">.</span><span class="n">joined_at</span><span class="p">,</span> <span class="n">member</span><span class="o">.</span><span class="n">created_at</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">delta</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">joined</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">created</span>

<span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">delta</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">member</span><span class="p">:</span> <span class="n">JoinDistance</span><span class="p">):</span>
    <span class="n">is_new</span> <span class="o">=</span> <span class="n">member</span><span class="o">.</span><span class="n">delta</span><span class="o">.</span><span class="n">days</span> <span class="o">&lt;</span> <span class="mi">100</span>
    <span class="k">if</span> <span class="n">is_new</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s2">&quot;Hey you&#39;re pretty new!&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s2">&quot;Hm you&#39;re not so new.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="discord-converters">
<h3>Discord Converters<a class="headerlink" href="#discord-converters" title="제목 주소">¶</a></h3>
<p>Working with <a class="reference internal" href="../../api.html#discord-api-models"><span class="std std-ref">디스코드 모델</span></a> is a fairly common thing when defining commands, as a result the library makes
working with them easy.</p>
<p>For example, to receive a <a class="reference internal" href="../../api.html#discord.Member" title="discord.Member"><code class="xref py py-class docutils literal notranslate"><span class="pre">Member</span></code></a> you can just pass it as a converter:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">joined</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">member</span><span class="p">:</span> <span class="n">discord</span><span class="o">.</span><span class="n">Member</span><span class="p">):</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{0}</span><span class="s1"> joined on </span><span class="si">{0.joined_at}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">member</span><span class="p">))</span>
</pre></div>
</div>
<p>When this command is executed, it attempts to convert the string given into a <a class="reference internal" href="../../api.html#discord.Member" title="discord.Member"><code class="xref py py-class docutils literal notranslate"><span class="pre">Member</span></code></a> and then passes it as a
parameter for the function. This works by checking if the string is a mention, an ID, a nickname, a username + discriminator,
or just a regular username. The default set of converters have been written to be as easy to use as possible.</p>
<p>A lot of discord models work out of the gate as a parameter:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../api.html#discord.Member" title="discord.Member"><code class="xref py py-class docutils literal notranslate"><span class="pre">Member</span></code></a></p></li>
<li><p><a class="reference internal" href="../../api.html#discord.User" title="discord.User"><code class="xref py py-class docutils literal notranslate"><span class="pre">User</span></code></a></p></li>
<li><p><a class="reference internal" href="../../api.html#discord.TextChannel" title="discord.TextChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextChannel</span></code></a></p></li>
<li><p><a class="reference internal" href="../../api.html#discord.VoiceChannel" title="discord.VoiceChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">VoiceChannel</span></code></a></p></li>
<li><p><a class="reference internal" href="../../api.html#discord.CategoryChannel" title="discord.CategoryChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">CategoryChannel</span></code></a></p></li>
<li><p><a class="reference internal" href="../../api.html#discord.Role" title="discord.Role"><code class="xref py py-class docutils literal notranslate"><span class="pre">Role</span></code></a></p></li>
<li><p><a class="reference internal" href="../../api.html#discord.Message" title="discord.Message"><code class="xref py py-class docutils literal notranslate"><span class="pre">Message</span></code></a> (v1.1 부터)</p></li>
<li><p><a class="reference internal" href="../../api.html#discord.Invite" title="discord.Invite"><code class="xref py py-class docutils literal notranslate"><span class="pre">Invite</span></code></a></p></li>
<li><p><a class="reference internal" href="../../api.html#discord.Game" title="discord.Game"><code class="xref py py-class docutils literal notranslate"><span class="pre">Game</span></code></a></p></li>
<li><p><a class="reference internal" href="../../api.html#discord.Emoji" title="discord.Emoji"><code class="xref py py-class docutils literal notranslate"><span class="pre">Emoji</span></code></a></p></li>
<li><p><a class="reference internal" href="../../api.html#discord.PartialEmoji" title="discord.PartialEmoji"><code class="xref py py-class docutils literal notranslate"><span class="pre">PartialEmoji</span></code></a></p></li>
<li><p><a class="reference internal" href="../../api.html#discord.Colour" title="discord.Colour"><code class="xref py py-class docutils literal notranslate"><span class="pre">Colour</span></code></a></p></li>
</ul>
<p>Having any of these set as the converter will intelligently convert the argument to the appropriate target type you
specify.</p>
<p>Under the hood, these are implemented by the <a class="reference internal" href="#ext-commands-adv-converters"><span class="std std-ref">Advanced Converters</span></a> interface. A table of the equivalent
converter is given below:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 35%" />
<col style="width: 65%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>디스코드 클래스</p></td>
<td><p>변환기</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../api.html#discord.Member" title="discord.Member"><code class="xref py py-class docutils literal notranslate"><span class="pre">Member</span></code></a></p></td>
<td><p><a class="reference internal" href="api.html#discord.ext.commands.MemberConverter" title="discord.ext.commands.MemberConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">MemberConverter</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../api.html#discord.Message" title="discord.Message"><code class="xref py py-class docutils literal notranslate"><span class="pre">Message</span></code></a></p></td>
<td><p><a class="reference internal" href="api.html#discord.ext.commands.MessageConverter" title="discord.ext.commands.MessageConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">MessageConverter</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../api.html#discord.User" title="discord.User"><code class="xref py py-class docutils literal notranslate"><span class="pre">User</span></code></a></p></td>
<td><p><a class="reference internal" href="api.html#discord.ext.commands.UserConverter" title="discord.ext.commands.UserConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserConverter</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../api.html#discord.TextChannel" title="discord.TextChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextChannel</span></code></a></p></td>
<td><p><a class="reference internal" href="api.html#discord.ext.commands.TextChannelConverter" title="discord.ext.commands.TextChannelConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextChannelConverter</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../api.html#discord.VoiceChannel" title="discord.VoiceChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">VoiceChannel</span></code></a></p></td>
<td><p><a class="reference internal" href="api.html#discord.ext.commands.VoiceChannelConverter" title="discord.ext.commands.VoiceChannelConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">VoiceChannelConverter</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../api.html#discord.CategoryChannel" title="discord.CategoryChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">CategoryChannel</span></code></a></p></td>
<td><p><a class="reference internal" href="api.html#discord.ext.commands.CategoryChannelConverter" title="discord.ext.commands.CategoryChannelConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">CategoryChannelConverter</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../api.html#discord.Role" title="discord.Role"><code class="xref py py-class docutils literal notranslate"><span class="pre">Role</span></code></a></p></td>
<td><p><a class="reference internal" href="api.html#discord.ext.commands.RoleConverter" title="discord.ext.commands.RoleConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">RoleConverter</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../api.html#discord.Invite" title="discord.Invite"><code class="xref py py-class docutils literal notranslate"><span class="pre">Invite</span></code></a></p></td>
<td><p><a class="reference internal" href="api.html#discord.ext.commands.InviteConverter" title="discord.ext.commands.InviteConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">InviteConverter</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../api.html#discord.Game" title="discord.Game"><code class="xref py py-class docutils literal notranslate"><span class="pre">Game</span></code></a></p></td>
<td><p><a class="reference internal" href="api.html#discord.ext.commands.GameConverter" title="discord.ext.commands.GameConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">GameConverter</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../api.html#discord.Emoji" title="discord.Emoji"><code class="xref py py-class docutils literal notranslate"><span class="pre">Emoji</span></code></a></p></td>
<td><p><a class="reference internal" href="api.html#discord.ext.commands.EmojiConverter" title="discord.ext.commands.EmojiConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmojiConverter</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../api.html#discord.PartialEmoji" title="discord.PartialEmoji"><code class="xref py py-class docutils literal notranslate"><span class="pre">PartialEmoji</span></code></a></p></td>
<td><p><a class="reference internal" href="api.html#discord.ext.commands.PartialEmojiConverter" title="discord.ext.commands.PartialEmojiConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">PartialEmojiConverter</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../api.html#discord.Colour" title="discord.Colour"><code class="xref py py-class docutils literal notranslate"><span class="pre">Colour</span></code></a></p></td>
<td><p><a class="reference internal" href="api.html#discord.ext.commands.ColourConverter" title="discord.ext.commands.ColourConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColourConverter</span></code></a></p></td>
</tr>
</tbody>
</table>
<p>By providing the converter it allows us to use them as building blocks for another converter:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MemberRoles</span><span class="p">(</span><span class="n">commands</span><span class="o">.</span><span class="n">MemberConverter</span><span class="p">):</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">convert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">,</span> <span class="n">argument</span><span class="p">):</span>
        <span class="n">member</span> <span class="o">=</span> <span class="k">await</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">argument</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">role</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">role</span> <span class="ow">in</span> <span class="n">member</span><span class="o">.</span><span class="n">roles</span><span class="p">[</span><span class="mi">1</span><span class="p">:]]</span> <span class="c1"># Remove everyone role!</span>

<span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">roles</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">member</span><span class="p">:</span> <span class="n">MemberRoles</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Tells you a member&#39;s roles.&quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s1">&#39;I see the following roles: &#39;</span> <span class="o">+</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">member</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="special-converters">
<span id="ext-commands-special-converters"></span><h3>특별한 변환기<a class="headerlink" href="#special-converters" title="제목 주소">¶</a></h3>
<p>The command extension also has support for certain converters to allow for more advanced and intricate use cases that go
beyond the generic linear parsing. These converters allow you to introduce some more relaxed and dynamic grammar to your
commands in an easy to use manner.</p>
<div class="section" id="typing-union">
<h4>typing.Union<a class="headerlink" href="#typing-union" title="제목 주소">¶</a></h4>
<p>A <a class="reference external" href="https://docs.python.org/ko/3/library/typing.html#typing.Union" title="(in Python v3.8)"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.Union</span></code></a> is a special type hint that allows for the command to take in any of the specific types instead of
a singular type. For example, given the following:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">typing</span>

<span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">union</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">what</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">discord</span><span class="o">.</span><span class="n">TextChannel</span><span class="p">,</span> <span class="n">discord</span><span class="o">.</span><span class="n">Member</span><span class="p">]):</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">what</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">what</span></code> parameter would either take a <a class="reference internal" href="../../api.html#discord.TextChannel" title="discord.TextChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">discord.TextChannel</span></code></a> converter or a <a class="reference internal" href="../../api.html#discord.Member" title="discord.Member"><code class="xref py py-class docutils literal notranslate"><span class="pre">discord.Member</span></code></a> converter.
The way this works is through a left-to-right order. It first attempts to convert the input to a
<a class="reference internal" href="../../api.html#discord.TextChannel" title="discord.TextChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">discord.TextChannel</span></code></a>, and if it fails it tries to convert it to a <a class="reference internal" href="../../api.html#discord.Member" title="discord.Member"><code class="xref py py-class docutils literal notranslate"><span class="pre">discord.Member</span></code></a>. If all converters fail,
then a special error is raised, <a class="reference internal" href="api.html#discord.ext.commands.BadUnionArgument" title="discord.ext.commands.BadUnionArgument"><code class="xref py py-exc docutils literal notranslate"><span class="pre">BadUnionArgument</span></code></a>.</p>
<p>Note that any valid converter discussed above can be passed in to the argument list of a <a class="reference external" href="https://docs.python.org/ko/3/library/typing.html#typing.Union" title="(in Python v3.8)"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.Union</span></code></a>.</p>
</div>
<div class="section" id="typing-optional">
<h4>typing.Optional<a class="headerlink" href="#typing-optional" title="제목 주소">¶</a></h4>
<p>A <a class="reference external" href="https://docs.python.org/ko/3/library/typing.html#typing.Optional" title="(in Python v3.8)"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.Optional</span></code></a> is a special type hint that allows for 《back-referencing》 behaviour. If the converter fails to
parse into the specified type, the parser will skip the parameter and then either <code class="docutils literal notranslate"><span class="pre">None</span></code> or the specified default will be
passed into the parameter instead. The parser will then continue on to the next parameters and converters, if any.</p>
<p>Consider the following example:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">typing</span>

<span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">bottles</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">amount</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">99</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">liquid</span><span class="o">=</span><span class="s2">&quot;beer&quot;</span><span class="p">):</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> bottles of </span><span class="si">{}</span><span class="s1"> on the wall!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">amount</span><span class="p">,</span> <span class="n">liquid</span><span class="p">))</span>
</pre></div>
</div>
<img alt="../../_images/optional1.png" src="../../_images/optional1.png" />
<p>In this example, since the argument could not be converted into an <code class="docutils literal notranslate"><span class="pre">int</span></code>, the default of <code class="docutils literal notranslate"><span class="pre">99</span></code> is passed and the parser
resumes handling, which in this case would be to pass it into the <code class="docutils literal notranslate"><span class="pre">liquid</span></code> parameter.</p>
<div class="admonition note">
<p class="admonition-title">참고</p>
<p>This converter only works in regular positional parameters, not variable parameters or keyword-only parameters.</p>
</div>
</div>
<div class="section" id="greedy">
<h4>Greedy<a class="headerlink" href="#greedy" title="제목 주소">¶</a></h4>
<p>The <a class="reference internal" href="api.html#discord.ext.commands.Greedy" title="discord.ext.commands.Greedy"><code class="xref py py-data docutils literal notranslate"><span class="pre">Greedy</span></code></a> converter is a generalisation of the <a class="reference external" href="https://docs.python.org/ko/3/library/typing.html#typing.Optional" title="(in Python v3.8)"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.Optional</span></code></a> converter, except applied
to a list of arguments. In simple terms, this means that it tries to convert as much as it can until it can’t convert
any further.</p>
<p>Consider the following example:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">slap</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">members</span><span class="p">:</span> <span class="n">commands</span><span class="o">.</span><span class="n">Greedy</span><span class="p">[</span><span class="n">discord</span><span class="o">.</span><span class="n">Member</span><span class="p">],</span> <span class="o">*</span><span class="p">,</span> <span class="n">reason</span><span class="o">=</span><span class="s1">&#39;no reason&#39;</span><span class="p">):</span>
    <span class="n">slapped</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">members</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> just got slapped for </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">slapped</span><span class="p">,</span> <span class="n">reason</span><span class="p">))</span>
</pre></div>
</div>
<p>When invoked, it allows for any number of members to be passed in:</p>
<img alt="../../_images/greedy1.png" src="../../_images/greedy1.png" />
<p>The type passed when using this converter depends on the parameter type that it is being attached to:</p>
<ul class="simple">
<li><p>Positional parameter types will receive either the default parameter or a <a class="reference external" href="https://docs.python.org/ko/3/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of the converted values.</p></li>
<li><p>Variable parameter types will be a <a class="reference external" href="https://docs.python.org/ko/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> as usual.</p></li>
<li><p>Keyword-only parameter types will be the same as if <a class="reference internal" href="api.html#discord.ext.commands.Greedy" title="discord.ext.commands.Greedy"><code class="xref py py-data docutils literal notranslate"><span class="pre">Greedy</span></code></a> was not passed at all.</p></li>
</ul>
<p><a class="reference internal" href="api.html#discord.ext.commands.Greedy" title="discord.ext.commands.Greedy"><code class="xref py py-data docutils literal notranslate"><span class="pre">Greedy</span></code></a> parameters can also be made optional by specifying an optional value.</p>
<p>When mixed with the <a class="reference external" href="https://docs.python.org/ko/3/library/typing.html#typing.Optional" title="(in Python v3.8)"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.Optional</span></code></a> converter you can provide simple and expressive command invocation syntaxes:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">typing</span>

<span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">ban</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">members</span><span class="p">:</span> <span class="n">commands</span><span class="o">.</span><span class="n">Greedy</span><span class="p">[</span><span class="n">discord</span><span class="o">.</span><span class="n">Member</span><span class="p">],</span>
                   <span class="n">delete_days</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
                   <span class="n">reason</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Mass bans members with an optional delete_days parameter&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">members</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">member</span><span class="o">.</span><span class="n">ban</span><span class="p">(</span><span class="n">delete_message_days</span><span class="o">=</span><span class="n">delete_days</span><span class="p">,</span> <span class="n">reason</span><span class="o">=</span><span class="n">reason</span><span class="p">)</span>
</pre></div>
</div>
<p>This command can be invoked any of the following ways:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ban @Member @Member2 spam bot
$ban @Member @Member2 7 spam bot
$ban @Member spam
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">경고</p>
<p>The usage of <a class="reference internal" href="api.html#discord.ext.commands.Greedy" title="discord.ext.commands.Greedy"><code class="xref py py-data docutils literal notranslate"><span class="pre">Greedy</span></code></a> and <a class="reference external" href="https://docs.python.org/ko/3/library/typing.html#typing.Optional" title="(in Python v3.8)"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.Optional</span></code></a> are powerful and useful, however as a
price, they open you up to some parsing ambiguities that might surprise some people.</p>
<p>For example, a signature expecting a <a class="reference external" href="https://docs.python.org/ko/3/library/typing.html#typing.Optional" title="(in Python v3.8)"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.Optional</span></code></a> of a <a class="reference internal" href="../../api.html#discord.Member" title="discord.Member"><code class="xref py py-class docutils literal notranslate"><span class="pre">discord.Member</span></code></a> followed by a
<a class="reference external" href="https://docs.python.org/ko/3/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> could catch a member named after a number due to the different ways a
<a class="reference internal" href="api.html#discord.ext.commands.MemberConverter" title="discord.ext.commands.MemberConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">MemberConverter</span></code></a> decides to fetch members. You should take care to not introduce
unintended parsing ambiguities in your code. One technique would be to clamp down the expected syntaxes
allowed through custom converters or reordering the parameters to minimise clashes.</p>
<p>To help aid with some parsing ambiguities, <a class="reference external" href="https://docs.python.org/ko/3/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <code class="docutils literal notranslate"><span class="pre">None</span></code>, <a class="reference external" href="https://docs.python.org/ko/3/library/typing.html#typing.Optional" title="(in Python v3.8)"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.Optional</span></code></a> and
<a class="reference internal" href="api.html#discord.ext.commands.Greedy" title="discord.ext.commands.Greedy"><code class="xref py py-data docutils literal notranslate"><span class="pre">Greedy</span></code></a> are forbidden as parameters for the <a class="reference internal" href="api.html#discord.ext.commands.Greedy" title="discord.ext.commands.Greedy"><code class="xref py py-data docutils literal notranslate"><span class="pre">Greedy</span></code></a> converter.</p>
</div>
</div>
</div>
</div>
<div class="section" id="error-handling">
<span id="ext-commands-error-handler"></span><h2>에러 다루기<a class="headerlink" href="#error-handling" title="제목 주소">¶</a></h2>
<p>When our commands fail to parse we will, by default, receive a noisy error in <code class="docutils literal notranslate"><span class="pre">stderr</span></code> of our console that tells us
that an error has happened and has been silently ignored.</p>
<p>In order to handle our errors, we must use something called an error handler. There is a global error handler, called
<a class="reference internal" href="api.html#discord.on_command_error" title="discord.on_command_error"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_command_error()</span></code></a> which works like any other event in the <a class="reference internal" href="../../api.html#discord-api-events"><span class="std std-ref">Event Reference</span></a>. This global error handler is
called for every error reached.</p>
<p>Most of the time however, we want to handle an error local to the command itself. Luckily, commands come with local error
handlers that allow us to do just that. First we decorate an error handler function with <a class="reference internal" href="api.html#discord.ext.commands.Command.error" title="discord.ext.commands.Command.error"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Command.error()</span></code></a>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">member</span><span class="p">:</span> <span class="n">discord</span><span class="o">.</span><span class="n">Member</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Tells you some info about the member.&quot;&quot;&quot;</span>
    <span class="n">fmt</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{0}</span><span class="s1"> joined on </span><span class="si">{0.joined_at}</span><span class="s1"> and has </span><span class="si">{1}</span><span class="s1"> roles.&#39;</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">fmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">member</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">member</span><span class="o">.</span><span class="n">roles</span><span class="p">)))</span>

<span class="nd">@info</span><span class="o">.</span><span class="n">error</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">info_error</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">error</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">commands</span><span class="o">.</span><span class="n">BadArgument</span><span class="p">):</span>
        <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s1">&#39;I could not find that member...&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The first parameter of the error handler is the <a class="reference internal" href="api.html#discord.ext.commands.Context" title="discord.ext.commands.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a> while the second one is an exception that is derived from
<a class="reference internal" href="api.html#discord.ext.commands.CommandError" title="discord.ext.commands.CommandError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">CommandError</span></code></a>. A list of errors is found in the <a class="reference internal" href="api.html#ext-commands-api-errors"><span class="std std-ref">Exceptions</span></a> page of the documentation.</p>
</div>
<div class="section" id="checks">
<h2>체크<a class="headerlink" href="#checks" title="제목 주소">¶</a></h2>
<p>우리가 유저들이 전용 명령어를 사용하지 못하게 막고 싶을 때가 있습니다. 그들에게 권한이 없거나 우리가 그들이 봇을 사용하지 못하도록 막았었을 수도 있습니다. 명령어 확장자는 이것들을 위한 완전한 지원이 <a class="reference internal" href="api.html#ext-commands-api-checks"><span class="std std-ref">Checks</span></a>로 함께 옵니다.</p>
<p>체크는 <a class="reference internal" href="api.html#discord.ext.commands.Context" title="discord.ext.commands.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>에서 단독 매개 변수로 자리잡는 기본적인 서술자입니다. 이 안에서, 당신에게는 이런 옵션들이 있습니다:</p>
<ul>
<li><p>이 사람이 명령어를 사용할 수 있다고 <code class="docutils literal notranslate"><span class="pre">True</span></code>를 시그널에 반환.</p></li>
<li><p>이 사람이 명령어를 사용할 수 없다고 <code class="docutils literal notranslate"><span class="pre">False</span></code>를 시그널에 반환.</p></li>
<li><p>이 사람이 명령어를 사용할 수 없다고 <a class="reference internal" href="api.html#discord.ext.commands.CommandError" title="discord.ext.commands.CommandError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">CommandError</span></code></a> 예외를 일으키기.</p>
<blockquote>
<div><ul class="simple">
<li><p>이는 당신이 <a class="reference internal" href="#ext-commands-error-handler"><span class="std std-ref">error handlers</span></a>를 다루기 위해 당신만을 위한 커스텀 오류 메시지를 만들 수 있게 합니다.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<p>명령어에 체크를 등록하기 위해, 우리는 2가지 방법으로 할 수 있습니다. 첫번째 방법은 <a class="reference internal" href="api.html#discord.ext.commands.check" title="discord.ext.commands.check"><code class="xref py py-meth docutils literal notranslate"><span class="pre">check()</span></code></a> 데코레이터를 사용하는 것입니다. 예를 들어:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">def</span> <span class="nf">is_owner</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">ctx</span><span class="o">.</span><span class="n">author</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="mi">316026178463072268</span>

<span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">)</span>
<span class="nd">@commands</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">is_owner</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">_eval</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">code</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A bad example of an eval command&quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="n">code</span><span class="p">))</span>
</pre></div>
</div>
<p>This would only evaluate the command if the function <code class="docutils literal notranslate"><span class="pre">is_owner</span></code> returns <code class="docutils literal notranslate"><span class="pre">True</span></code>. Sometimes we re-use a check often and
want to split it into its own decorator. To do that we can just add another level of depth:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">is_owner</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">predicate</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">ctx</span><span class="o">.</span><span class="n">author</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="mi">316026178463072268</span>
    <span class="k">return</span> <span class="n">commands</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">predicate</span><span class="p">)</span>

<span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">)</span>
<span class="nd">@is_owner</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">_eval</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">code</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A bad example of an eval command&quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="n">code</span><span class="p">))</span>
</pre></div>
</div>
<p>Since an owner check is so common, the library provides it for you (<a class="reference internal" href="api.html#discord.ext.commands.is_owner" title="discord.ext.commands.is_owner"><code class="xref py py-func docutils literal notranslate"><span class="pre">is_owner()</span></code></a>):</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">)</span>
<span class="nd">@commands</span><span class="o">.</span><span class="n">is_owner</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">_eval</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">code</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A bad example of an eval command&quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="n">code</span><span class="p">))</span>
</pre></div>
</div>
<p>When multiple checks are specified, <strong>all</strong> of them must be <code class="docutils literal notranslate"><span class="pre">True</span></code>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">is_in_guild</span><span class="p">(</span><span class="n">guild_id</span><span class="p">):</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">predicate</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">ctx</span><span class="o">.</span><span class="n">guild</span> <span class="ow">and</span> <span class="n">ctx</span><span class="o">.</span><span class="n">guild</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">guild_id</span>
    <span class="k">return</span> <span class="n">commands</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">predicate</span><span class="p">)</span>

<span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="nd">@commands</span><span class="o">.</span><span class="n">is_owner</span><span class="p">()</span>
<span class="nd">@is_in_guild</span><span class="p">(</span><span class="mi">41771983423143937</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">secretguilddata</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;super secret stuff&quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s1">&#39;secret stuff&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>If any of those checks fail in the example above, then the command will not be run.</p>
<p>When an error happens, the error is propagated to the <a class="reference internal" href="#ext-commands-error-handler"><span class="std std-ref">error handlers</span></a>. If you do not
raise a custom <a class="reference internal" href="api.html#discord.ext.commands.CommandError" title="discord.ext.commands.CommandError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">CommandError</span></code></a> derived exception, then it will get wrapped up into a
<a class="reference internal" href="api.html#discord.ext.commands.CheckFailure" title="discord.ext.commands.CheckFailure"><code class="xref py py-exc docutils literal notranslate"><span class="pre">CheckFailure</span></code></a> exception as so:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="nd">@commands</span><span class="o">.</span><span class="n">is_owner</span><span class="p">()</span>
<span class="nd">@is_in_guild</span><span class="p">(</span><span class="mi">41771983423143937</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">secretguilddata</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;super secret stuff&quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s1">&#39;secret stuff&#39;</span><span class="p">)</span>

<span class="nd">@secretguilddata</span><span class="o">.</span><span class="n">error</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">secretguilddata_error</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">error</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">commands</span><span class="o">.</span><span class="n">CheckFailure</span><span class="p">):</span>
        <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s1">&#39;nothing to see here comrade.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>If you want a more robust error system, you can derive from the exception and raise it instead of returning <code class="docutils literal notranslate"><span class="pre">False</span></code>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">NoPrivateMessages</span><span class="p">(</span><span class="n">commands</span><span class="o">.</span><span class="n">CheckFailure</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">def</span> <span class="nf">guild_only</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">predicate</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">ctx</span><span class="o">.</span><span class="n">guild</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">NoPrivateMessages</span><span class="p">(</span><span class="s1">&#39;Hey no DMs!&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="n">commands</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">predicate</span><span class="p">)</span>

<span class="nd">@guild_only</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
    <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s1">&#39;Hey this is not a DM! Nice.&#39;</span><span class="p">)</span>

<span class="nd">@test</span><span class="o">.</span><span class="n">error</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">test_error</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">error</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">NoPrivateMessages</span><span class="p">):</span>
        <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">참고</p>
<p>Since having a <code class="docutils literal notranslate"><span class="pre">guild_only</span></code> decorator is pretty common, it comes built-in via <a class="reference internal" href="api.html#discord.ext.commands.guild_only" title="discord.ext.commands.guild_only"><code class="xref py py-func docutils literal notranslate"><span class="pre">guild_only()</span></code></a>.</p>
</div>
<div class="section" id="global-checks">
<h3>글로벌 체크<a class="headerlink" href="#global-checks" title="제목 주소">¶</a></h3>
<p>가끔 우리는 특정 명령어 말고 <strong>모든</strong> 명령어에 체크를 적용하고 싶을때가 있습니다. 이 라이브러리는 글로벌 체크를 통해 이 기능을 지원합니다.</p>
<p>글로벌 체크는 <code class="xref py py-func docutils literal notranslate"><span class="pre">Bot.check()</span></code> 데코레이터와 함께 등록된다는 것을 제외하면 기본 체크들과 동일하게 작동합니다.</p>
<p>예를 들면, 모든 DM을 막기 위해 이렇게 할 수도 있습니다:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@bot</span><span class="o">.</span><span class="n">check</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">globally_block_dms</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">ctx</span><span class="o">.</span><span class="n">guild</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">경고</p>
<p>당신이 당신의 봇을 사용 못하도록 만들 수도 있기 때문에 글로벌 체크를 작성할 때는 조심하세요.</p>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">목차</a></h3>
  <ul>
<li><a class="reference internal" href="#">명령어</a><ul>
<li><a class="reference internal" href="#parameters">매개변수</a><ul>
<li><a class="reference internal" href="#positional">위치</a></li>
<li><a class="reference internal" href="#variable">변수</a></li>
<li><a class="reference internal" href="#keyword-only-arguments">키워드 전용 전달인자</a></li>
</ul>
</li>
<li><a class="reference internal" href="#invocation-context">Invocation Context</a></li>
<li><a class="reference internal" href="#converters">Converters</a><ul>
<li><a class="reference internal" href="#basic-converters">Basic Converters</a><ul>
<li><a class="reference internal" href="#bool">bool</a></li>
</ul>
</li>
<li><a class="reference internal" href="#advanced-converters">Advanced Converters</a></li>
<li><a class="reference internal" href="#inline-advanced-converters">Inline Advanced Converters</a></li>
<li><a class="reference internal" href="#discord-converters">Discord Converters</a></li>
<li><a class="reference internal" href="#special-converters">특별한 변환기</a><ul>
<li><a class="reference internal" href="#typing-union">typing.Union</a></li>
<li><a class="reference internal" href="#typing-optional">typing.Optional</a></li>
<li><a class="reference internal" href="#greedy">Greedy</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#error-handling">에러 다루기</a></li>
<li><a class="reference internal" href="#checks">체크</a><ul>
<li><a class="reference internal" href="#global-checks">글로벌 체크</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- purposefully empty -->
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">빠른 검색</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="이동" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer">
    &copy; Copyright 2015-2020, Rapptz.
    <a href="http://sphinx-doc.org/">Sphinx</a> 3.0.3 버전으로 생성되었습니다.
  </div>
  
  </body>
</html>